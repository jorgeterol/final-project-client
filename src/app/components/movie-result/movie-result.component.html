<div class="movie-results">
  <div class="movie-results__spinner">
    <div *ngIf="!movies && !nomovies">
      <mat-spinner class="spinner"></mat-spinner>
    </div>
  </div>

  <div *ngIf="movies && !nomovies">
    <div class="movie-results__movies">
      <div class="movie-results__movies__poster">
        <img src="https://image.tmdb.org/t/p/w300_and_h450_bestv2/{{movies[index].poster_path}}" alt="Poster">
      </div>
      <div class="movie-results__movies__info">
        <div class="movie-results__movies__info__title-vote">
          <strong>{{movies[index].title}}</strong> -
          <strong>{{movies[index].vote_average}}</strong> -
          <strong>{{movies[index].release_date}}</strong>
        </div>
        <div class="movie-results__movies__info__overview">
          {{movies[index].overview}}
        </div>
        <form (ngSubmit)="submitComment(form, movies[index])" #form="ngForm" novalidate [ngClass]="{'is-processing': processing}">
          <div class="movie-results">
            <div class="movie-results__forms">

              <mat-form-field class="full-width">
                <input matInput class="mat-input-ripple mat-focused" type="text" name="comment" [(ngModel)]="comment" #commentField="ngModel" placeholder="Comment" [disabled]="processing"
                />
              </mat-form-field>

            </div>
            <div class="movie-results__button">
              <div class="field submit">
                <button class="btn" type="submit" [disabled]="processing">Send comment</button>
              </div>
            </div>
          </div>
        </form>

          <div *ngFor="let comment of comments">
            <b>User:</b> {{comment.username.username}} 
            <b>Comment:</b> {{comment.comment}}
          </div>
        <button class="btn" (click)="nextMovie()">Next</button>
        <button class="btn" type="submit" (click)="saveMovie(movies[index])" [disabled]="processing">Save</button>
        <button class="btn" (click)="searchTorrents(movies[index])">Search Torrents</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="!movies && nomovies">
  <h1>SORRY, NO MOVIES FOUND, TRY WITH ANOTHER SEARCH</h1>
  <a class="btn" [routerLink]="['/movies']">Go Back</a>
</div>